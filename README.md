# Finfactory website

## Стэк

- Nextjs
- Typescript
- ChakraUI
- Payload CMS
- MongoDB

## Переменные окружения

Переменные окружения лежат в файле .env. Файл содержит ссылку и доступы к БД, ключ для админкии и
прочие переменные для доступов.

## Основые команды

- Установка зависимостей: `npm i`
- Запуск в режиме разработки: `npm run dev`
- Запуск в режиме prodaction: `npm start` (но сначала нужно сделать сборку)
- Сборка: `npm run build`

Таким образом, для локального запуска в режиме разработки нужно:

1. установить зависимости
2. запустить проект в режиме разработки

## Дополнительные команды

- Форматирование кода: `npm run prettier` (для корректного внешнего вида кодовой базы)
- Статический анализ кода: `npm run lint` (для выявления ошибок)

## Полезные ссылки

- [Инструкция](https://docs.google.com/document/d/1hpbrG2HXjO2DrAiYfru1Z1XYlwOUc8xup6jaMjNHimg/edit?usp=sharing)
  по работе с админ панелью
- [Макет](https://www.figma.com/design/HoGeRIRGpro4lILWneCGHY/FF?t=swwwgbGDBKyocn2l-0)

## Деплой

Для доставки проекта на сервер нужно:

1. склонировать репозиторий на локальное рабочее место (при необходимости установить sshpass и
   rsync)
2. запустить файл [deploy.sh](./deploy.sh) через консоль

Скрипт синхронизирует локальные изменения (если они были) в проекте с его копией на удаленном
сервере. Далее скрипт запускает на удаленном сервере шаги с установкой зависимостей, сборкой и
перезапуском сайта. Подробная логика работы скриптов в комментариях в [deploy.sh](./deploy.sh).
